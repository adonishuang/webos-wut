webpackJsonp([1],{"1xEi":function(e,t){e.exports="data:image/png;base64,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"},GKrx:function(e,t){},LKVo:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=i("VU/8")({name:"App"},n,!1,function(e){i("GKrx")},null,null).exports,s=i("/ocq"),r=new a.default,l={name:"container",data:function(){return{}},created:function(){this.listSwitch()},methods:{listSwitch:function(){r.$emit("pushGatewaySwitch",""),r.$emit("pushDemoSwitch","display:none")},demoSwitch:function(){r.$emit("pushGatewaySwitch","display:none"),r.$emit("pushDemoSwitch","")}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-aside",{attrs:{width:"210px"}},[i("el-menu",{staticClass:"el-manager",attrs:{collapse:!1}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-s-platform"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("设备管理")])]),e._v(" "),i("el-menu-item-group",[i("el-menu-item",{staticClass:"el-icon-notebook-2",attrs:{index:"2",i:""},on:{click:e.listSwitch}},[e._v("\n          "+e._s("  ")+"设备列表\n        ")]),e._v(" "),i("el-menu-item",{staticClass:"el-icon-setting",attrs:{index:"3",i:""},on:{click:e.demoSwitch}},[e._v("\n          "+e._s("  ")+"设备优先级示例\n        ")])],1)],2)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(l,c,!1,function(e){i("pWoU")},"data-v-69ea168b",null).exports,u=i("Xxa5"),v=i.n(u),f=i("exGp"),m=i.n(f),p=i("mtWM"),h="http://localhost:",g=[8082],y={name:"deviceList",props:["ofport","hideStyle"],data:function(){return{displayList:"",addModal:!1,modifyModal:!1,form:{deviceId:0,uuid:"",deviceName:"",devicePriority:0,deviceCategory:[{value:0,label:"Example"},{value:1,label:"Sensor"},{value:2,label:"Camera"}],value:0,category:"",search:""},devicesNum:{alldevice:0,offlinedevice:0,activedevice:0},slice:{currentPage:1,pagesize:5,listcount:0},devicelist:[],devicelistflush:0,newDevice:""}},created:function(){this.flushData()},mounted:function(){var e=this;r.$on("pushListSwitch",function(t){e.displayList=t})},methods:{handleSizeChange:function(e){this.slice.pagesize=e},handleCurrentChange:function(e){this.slice.currentPage=e},handleCloseAddModal:function(){this.addModal=!1},handleClosemodifyModal:function(){this.modifyModal=!1},handleModify:function(e,t){this.form.deviceId=t.deviceId,this.form.devicePriority=t.devicePriority,this.form.deviceName=t.deviceName,this.form.uuid=t.uuid,this.form.category=t.category,this.modifyModal=!0},handleStop:function(e,t){var i=t.uuid;Object(p.a)({url:h+this.ofport+"/device/stop",method:"post",data:i,headers:{"Content-Type":"text/plain"}}).then(function(e){}),this.flushData()},handleDelete:function(e,t){var i=this,a=t.uuid;Object(p.a)({url:h+this.ofport+"/device/delete",method:"post",data:a,headers:{"Content-Type":"text/plain"}}).then(function(e){i.flushData()})},sureAddModal:function(){var e=this;return m()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)({url:h+e.ofport+"/device/invoke",method:"post",contentType:"application/json",data:{deviceId:e.form.deviceId,deviceName:e.form.deviceName,devicePriority:e.form.devicePriority,deviceCategory:e.form.deviceCategory[e.form.value].label}}).then(function(t){e.flushData(),e.addModal=!1});case 2:case"end":return t.stop()}},t,e)}))()},sureModifyModal:function(){var e=this;return m()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)({url:h+e.ofport+"/device/modify",method:"post",contentType:"application/json",data:{deviceId:e.form.deviceId,deviceName:e.form.deviceName,devicePriority:e.form.devicePriority,deviceCategory:"",uuid:e.form.uuid}}).then(function(t){e.flushData(),e.modifyModal=!1});case 2:case"end":return t.stop()}},t,e)}))()},flushData:function(){var e=m()(v.a.mark(function e(){var t=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)({url:h+this.ofport+"/device/index",method:"post"}).then(function(e){t.devicesNum.alldevice=0;var i=0;for(var a in t.devicelist=[],e.data)t.devicelist.push(e.data[a]),t.devicesNum.alldevice++,"offline"==e.data[a].deviceStatus&&i++;t.devicesNum.offlinedevice=i,t.listcount=t.devicesNum.alldevice,t.devicesNum.activedevice=t.devicesNum.alldevice-t.devicesNum.offlinedevice});case 2:this.devicelistflush++,this.$parent.$parent.$parent.flushGateway();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"deviceList",style:e.hideStyle},[i("div",{staticClass:"profile"},[i("div",{staticClass:"item"},[i("div",{staticClass:"small"},[e._v("总设备数")]),e._v(" "),i("div",{staticClass:"strong"},[e._v(e._s(e.devicesNum.alldevice)+"台")])]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"small"},[e._v("离线设备")]),e._v(" "),i("div",{staticClass:"strong"},[e._v(e._s(e.devicesNum.offlinedevice)+"台")])]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"small"},[e._v("在线设备")]),e._v(" "),i("div",{staticClass:"strong"},[e._v(e._s(e.devicesNum.activedevice)+"台")])])]),e._v(" "),i("div",{staticClass:"btnadd"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addModal=!0}}},[e._v("添加设备")])],1),e._v(" "),i("div",{staticClass:"devicelistshow"},[i("el-table",{key:e.devicelistflush,staticStyle:{width:"100%",margin:"20px"},attrs:{data:e.devicelist.slice((e.slice.currentPage-1)*e.slice.pagesize,e.slice.currentPage*e.slice.pagesize),"current-page":e.slice.currentPage},on:{"update:currentPage":function(t){return e.$set(e.slice,"currentPage",t)},"update:current-page":function(t){return e.$set(e.slice,"currentPage",t)}}},[i("el-table-column",{staticStyle:{margin:"20px"},attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{attrs:{size:"medium","label-position":"left","label-width":"100px"}},[i("el-form-item",{attrs:{label:"设备类型"}},[e._v(e._s(t.row.deviceCategory)+"\n              ")]),e._v(" "),i("el-form-item",{attrs:{label:"任务号"}},[e._v(e._s(t.row.uuid)+"\n              ")]),e._v(" "),i("el-form-item",{attrs:{label:"更多操作"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.handleModify(t.$index,t.row)}}},[e._v("修改\n                ")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.handleStop(t.$index,t.row)}}},[e._v("停止\n                ")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n                ")])],1)],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"deviceId",label:"设备编号",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{prop:"deviceName",label:"设备名称","min-width":"100px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"deviceStatus",label:"设备状态","min-width":"100px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"devicePriority",label:"设备优先级",sortable:"","min-width":"100px"}})],1)],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"","current-page":e.slice.currentPage,"page-sizes":[5,10,20],"page-size":e.slice.pagesize,layout:"total, jumper, prev, pager, next, sizes",total:e.devicesNum.alldevice},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("div",[i("el-dialog",{attrs:{title:"添加设备",width:"800px",visible:e.addModal,"before-close":e.handleCloseAddModal},on:{"update:visible":function(t){e.addModal=t}}},[i("div",{staticClass:"form"},[i("el-alert",{attrs:{title:"特别说明",description:"这里放置说明内容",type:"warning","show-icon":""}}),e._v(" "),i("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form,"label-width":"80px"}},[i("div",[i("el-form-item",{attrs:{label:"设备类型",prop:"value",rules:[{required:!0,message:"不能为空"}]}},[i("el-select",{attrs:{placeholder:"设备类型"},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},e._l(e.form.deviceCategory,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"设备编号",prop:"name"}},[i("el-input",{attrs:{placeholder:"设备编号",type:"number"},model:{value:e.form.deviceId,callback:function(t){e.$set(e.form,"deviceId",t)},expression:"form.deviceId"}})],1)],1),e._v(" "),i("div",[i("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"设备名称"},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName",t)},expression:"form.deviceName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"优先级",prop:"devicePriority"}},[i("el-input-number",{attrs:{placeholder:"输入1~10","max:10":"","min:1":""},model:{value:e.form.devicePriority,callback:function(t){e.$set(e.form,"devicePriority",t)},expression:"form.devicePriority"}})],1)],1)])],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.sureAddModal}},[e._v("确定")]),e._v(" "),i("el-button",{on:{click:function(t){e.addModal=!1}}},[e._v("取消")])],1)])],1),e._v(" "),i("div",[i("el-dialog",{attrs:{title:"修改设备",width:"800px",visible:e.modifyModal,"before-close":e.handleClosemodifyModal},on:{"update:visible":function(t){e.modifyModal=t}}},[i("div",{staticClass:"form"},[i("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form,"label-width":"80px"}},[i("div",[i("el-form-item",{attrs:{label:"设备类型",prop:"value"}},[i("el-select",{attrs:{placeholder:"$(form.category)",disabled:""},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},e._l(e.form.deviceCategory,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"设备编号",prop:"code"}},[i("el-input",{attrs:{placeholder:"设备编号",type:"number"},model:{value:e.form.deviceId,callback:function(t){e.$set(e.form,"deviceId",t)},expression:"form.deviceId"}})],1)],1),e._v(" "),i("div",[i("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"设备名称"},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName",t)},expression:"form.deviceName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[i("el-input-number",{attrs:{placeholder:"输入1~10","max:10":"","min:1":""},model:{value:e.form.devicePriority,callback:function(t){e.$set(e.form,"devicePriority",t)},expression:"form.devicePriority"}})],1)],1)])],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.sureModifyModal}},[e._v("确定")]),e._v(" "),i("el-button",{on:{click:function(t){e.modifyModal=!1}}},[e._v("取消")])],1)])],1)])},staticRenderFns:[]};var w={name:"gatewayView",components:{deviceList:i("VU/8")(y,b,!1,function(e){i("i10E")},"data-v-4680bde0",null).exports},data:function(){return{gatewayKey:999999,loading:!0,showKey:0,listShow:[],collapseButtonContent:[],gatewayGroup:[],displayGateway:"",ofPORTS:g}},created:function(){this.flushGateway(),this.initialListShow()},mounted:function(){var e=this;r.$on("pushGatewaySwitch",function(t){e.displayGateway=t})},watch:{},methods:{initialListShow:function(){for(var e=0;e<g.length;e++)this.listShow[e]=!1,this.collapseButtonContent[e]="展开"},handleDisplay:function(e){this.listShow[e]=!this.listShow[e],this.collapseButtonContent[e]=this.listShow[e]?"折叠":"展开",this.showKey++},flushGateway:function(){var e=this;return m()(v.a.mark(function t(){var i,a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=v.a.mark(function t(i){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)({url:h+g[i]+"/gateway/overview",method:"post"}).then(function(t){e.gatewayGroup[i]=t.data});case 2:case"end":return t.stop()}},t,e)}),a=0;case 2:if(!(a<g.length)){t.next=7;break}return t.delegateYield(i(a),"t0",4);case 4:a++,t.next=2;break;case 7:e.loading=!1,e.gatewayKey--;case 9:case"end":return t.stop()}},t,e)}))()}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"jump2list",style:e.displayGateway,attrs:{id:"gatewayView"}},[a("el-row",e._l(e.gatewayGroup,function(t,n){return a("el-col",{key:n},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:i("1xEi"),alt:""}}),e._v(" "),a("div",{key:e.gatewayKey,staticStyle:{padding:"14px"}},[a("span",[e._v(e._s(t.gatewayName)+"（"+e._s(t.gatewayIP)+"）")]),e._v(" "),a("el-progress",{staticClass:"progress-bar",attrs:{"stroke-width":26,percentage:100*t.activeDevice/t.allDevice,width:25,"show-text":!1}}),e._v(" "),a("span",[e._v("总设备"+e._s(t.allDevice)+"台，在线设备"+e._s(t.activeDevice)+"台")]),e._v(" "),a("div",{staticClass:"bottom clearfix"},[a("el-button",{staticClass:"detailbutton",attrs:{type:"text"},on:{click:function(e){}}},[e._v("网关详情")]),e._v(" "),a("el-button",{key:e.showKey,staticClass:"collapseButton",attrs:{type:"text"},on:{click:function(t){return e.handleDisplay(n)}}},[e._v(e._s(e.collapseButtonContent[n]))])],1)],1)]),e._v(" "),a("el-collapse-transition",[a("deviceList",{directives:[{name:"show",rawName:"v-show",value:1==e.listShow[n],expression:"listShow[index]==true"}],attrs:{ofport:e.ofPORTS[n]}})],1)],1)}),1)],1)},staticRenderFns:[]};var A=i("VU/8")(w,x,!1,function(e){i("LKVo")},"data-v-7117cc96",null).exports,C={name:"devicePriorityDemo",data:function(){return{displayDemo:"display:none",democontent:"开始演示",isDemoLoading:!1,visitList:[]}},mounted:function(){var e=this;r.$on("pushDemoSwitch",function(t){e.displayDemo=t})},methods:{startdemo:function(){var e=this;return m()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isDemoLoading=!0,e.democontent="加载中",t.next=4,Object(p.a)({url:h+g[0]+"/device/demo",method:"get"}).then(function(t){e.visitList=t.data});case 4:e.isDemoLoading=!1,e.democontent="开始演示";case 6:case"end":return t.stop()}},t,e)}))()},formattersubmittime:function(e,t){var i=new Date(e.submittime);return i.getFullYear()+"-"+(i.getMonth()<9?"0"+(i.getMonth()+1):""+(i.getMonth()+1))+"-"+(i.getDate()<10?"0"+i.getDate():""+i.getDate())+" "+(i.getHours()<10?"0"+i.getHours():""+i.getHours())+":"+(i.getMinutes()<10?"0"+i.getMinutes():""+i.getMinutes())+":"+(i.getSeconds()<10?"0"+i.getSeconds():""+i.getSeconds())+"."+(i.getMilliseconds()<100?i.getMilliseconds()<10?0==i.getMilliseconds()?"000"+i.getSeconds():"00"+i.getSeconds():"0"+i.getSeconds():""+i.getMilliseconds())},formatterexetime:function(e,t){var i=new Date(e.executetime);return i.getFullYear()+"-"+(i.getMonth()<9?"0"+(i.getMonth()+1):""+(i.getMonth()+1))+"-"+(i.getDate()<10?"0"+i.getDate():""+i.getDate())+" "+(i.getHours()<10?"0"+i.getHours():""+i.getHours())+":"+(i.getMinutes()<10?"0"+i.getMinutes():""+i.getMinutes())+":"+(i.getSeconds()<10?"0"+i.getSeconds():""+i.getSeconds())+"."+(i.getMilliseconds()<100?i.getMilliseconds()<10?0==i.getMilliseconds()?"000"+i.getSeconds():"00"+i.getSeconds():"0"+i.getSeconds():""+i.getMilliseconds())}}},S={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"demo",style:e.displayDemo,attrs:{id:"deviceSet"}},[e._m(0),e._v(" "),i("div",{staticClass:"btndemo"},[i("el-button",{attrs:{loading:e.isDemoLoading,type:"primary "},on:{"update:loading":function(t){e.isDemoLoading=t},click:e.startdemo}},[e._v(e._s(e.democontent)+"\n    ")])],1),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isDemoLoading,expression:"isDemoLoading"}],staticClass:"demotable"},[e.visitList?i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.visitList,"default-sort":{prop:"date",order:"ascending"}}},[i("el-table-column",{attrs:{prop:"deviceId",label:"设备编号",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"priority",label:"设备优先级",sortable:"",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{prop:"submittime",label:"任务提交时间",sortable:"",formatter:e.formattersubmittime}}),e._v(" "),i("el-table-column",{attrs:{prop:"executetime",label:"访问数据库时间",sortable:"",formatter:e.formatterexetime}})],1):e._e()],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("h1",[this._v("优先级功能说明")]),this._v(" "),t("p",[this._v("当有多个设备在短时间内集中访问数据库时，按照设备优先级进行排序后，按优先级从高到低的顺序依次访问数据库。")])])}]};var k={name:"index",data:function(){return{}},components:{GatewayView:A,layoutAside:d,gatewayView:A,devicePriorityDemo:i("VU/8")(C,S,!1,function(e){i("jdZR")},"data-v-3a441912",null).exports}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticStyle:{height:"auto",border:"1px solid #eee","min-height":"720px"}},[t("layoutAside"),this._v(" "),t("el-container",{attrs:{direction:"vertical"}},[t("gatewayView"),this._v(" "),t("devicePriorityDemo")],1)],1)},staticRenderFns:[]};var M=i("VU/8")(k,N,!1,function(e){i("dvP9")},"data-v-92c1f21a",null).exports;a.default.use(s.a);var D=new s.a({routes:[{path:"/",redirect:"/device/index"},{path:"/device/index",component:M,name:"index"}]}),G=i("zL8q"),O=i.n(G);i("tvR6");a.default.prototype.$axios=p.a,p.a.defaults.baseURL="/api",a.default.config.productionTip=!1,a.default.use(O.a),a.default.use(O.a),new a.default({el:"#app",router:D,components:{App:o},template:"<App/>"})},dvP9:function(e,t){},i10E:function(e,t){},jdZR:function(e,t){},pWoU:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.cb653c05c541e98734b3.js.map